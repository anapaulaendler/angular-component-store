<header>
  <h1>Parking Lot Control</h1>
</header>

<ng-container *ngIf="{
  vm: (vm$ | async)!
} as asyncData"> 
<!-- melhor forma de retirar valor de observable no html Ã© assim! 
quando usa, por exemplo, o *ngIf="vm$ | async as vm", pode dar erro -->
  <div class="messages">
    <p class="error" *ngIf="asyncData.vm.error">{{ asyncData.vm.error }}</p>
  </div>

  <div class="box">
    <form (submit)="onSubmit($event)">
      <input 
        type="text"
        [(ngModel)]="plate"
        [ngModelOptions]="{standalone: true}" 
        placeholder="Ex: 2FMDK3, 1GYS4C, 1GKS1E,1G6AS5"
        [disabled]="asyncData.vm.loading"
      />
      <!-- trocar por ReactiveForms -->
       <button type="submit" [disabled]="asyncData.vm.loading || !plate.length">
        <ng-container *ngIf="asyncData.vm.loading; else NotLoading">
          Loading...
        </ng-container>
        <ng-template #NotLoading>
          Add Car
        </ng-template>
       </button>
    </form>
    <div class="shortcuts">
      <h5>Shortcuts</h5>
      <p (click)="addPlate($event)" class="examples">
        <button>2FMDK3</button>
        <button>1GYS4C</button>
        <button>1GKS1E</button>
        <button>1G6AS5</button>
      </p>
    </div>
  </div>

  <app-car-list [cars]="asyncData.vm.cars"></app-car-list>
</ng-container>